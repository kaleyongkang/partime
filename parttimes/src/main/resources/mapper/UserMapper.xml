<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
 "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="com.parttime.dao.UserDao">
	<!-- 根据姓名查询 -->
	<select id="findByUsername" parameterType="string" 
			resultType="com.parttime.entity.User">
		select * from user where username=#{username} 
	</select>
	
	<select id="findByUsername1" parameterType="string" 
			resultType="com.parttime.entity.Company">
		select * from compony where username=#{username} 
	</select>
	
	<insert id="insertUser" parameterType="com.parttime.entity.User">
		insert into user (
		username,
		password,
		email,
		phone,
		role
		)
		values(
		#{username},
		#{password},
		#{email},
		#{phone},
		#{role}
		);
	</insert>
	
	<insert id="insertUser1" parameterType="com.parttime.entity.Company">
		insert into compony (
		username,
		password,
		email,
		phone
		)
		values(
		#{username},
		#{password},
		#{email},
		#{phone}
		);
	</insert>

	<update id="updateUser" parameterType="com.parttime.entity.User">
		update user
		 <set>
			<if test="file!=null">
				file=#{file},
			</if>
			<if test="Picture!=null">
				Picuserture=#{Picture},
			</if>
			<if test="advantage!=null">
				advantage=#{advantage},
			</if>
			<if test="skill!=null">
				skill=#{skill},
			</if>
			<if test="introduce!=null">
				introduce=#{introduce}
			</if>
		 </set> 
	</update>
	
	<update id="editCompany" parameterType="com.parttime.entity.Company">
		update compony set companyIntroduce=#{companyIntroduce}		
	</update>
	
</mapper>